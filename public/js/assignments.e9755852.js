(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["assignments"],{b066:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"text-center"},[s("NavbarP",{attrs:{p_name:e.professor.name}}),s("v-alert",{staticClass:"text-start",attrs:{text:"",type:e.alert.type,dismissible:""},model:{value:e.alert.show,callback:function(t){e.$set(e.alert,"show",t)},expression:"alert.show"}},[e._v(e._s(e.alert.message))]),s("h1",{staticClass:"font-weight-light"},[e._v(e._s(e.course.c_name))]),s("h2",{staticClass:"font-weight-thin"},[e._v(e._s(e.course.c_description))]),s("v-dialog",{attrs:{"max-width":"450"},model:{value:e.add,callback:function(t){e.add=t},expression:"add"}},[s("v-card",[s("v-card-title",[e._v("Create assignment")]),s("v-card-text",[s("v-form",{ref:"addForm",staticClass:"ma-3",on:{submit:function(t){return t.preventDefault(),e.addAssignment()}}},[s("v-file-input",{attrs:{label:"File",rules:[function(e){return!!e||"File is required."}]},model:{value:e.assignToAdd.a_file,callback:function(t){e.$set(e.assignToAdd,"a_file",t)},expression:"assignToAdd.a_file"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-biohazard",label:"Name",required:"",autocomplete:"off",rules:[function(e){return!!e||"Name is required."}]},model:{value:e.assignToAdd.a_name,callback:function(t){e.$set(e.assignToAdd,"a_name",t)},expression:"assignToAdd.a_name"}}),s("v-textarea",{attrs:{"prepend-icon":"mdi-bike",label:"Description",required:"",autocomplete:"off"},model:{value:e.assignToAdd.a_description,callback:function(t){e.$set(e.assignToAdd,"a_description",t)},expression:"assignToAdd.a_description"}}),s("v-btn",{staticClass:"success mt-3",attrs:{block:"",type:"submit"}},[e._v("add")])],1)],1)],1)],1),s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-col",{attrs:{md:"9",lg:"9",sm:"12"}},[s("v-simple-table",{attrs:{"fixed-header":""}},[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[e._v("Name")]),s("th",{staticClass:"text-center"},[e._v("Description")]),s("th",{staticClass:"text-center"},[e._v("File")]),s("th",{staticClass:"text-center"},[e._v("Deliveries")])])]),s("tbody",e._l(e.assignments,(function(t,a){return s("tr",{key:a,staticClass:"text-center"},[s("td",[e._v(e._s(t.a_name))]),s("td",[e._v(e._s(t.a_description))]),s("td",[s("v-icon",{attrs:{color:"grey-darken-1"},on:{click:function(s){return e.open(t.a_file)}}},[e._v("mdi-file-pdf")])],1),s("td",[s("v-icon",{attrs:{color:"cyan darken-1"},on:{click:function(s){return e.getDeliveries(t.id_a)}}},[e._v("mdi-book-open-page-variant")])],1)])})),0)])],1)],1),s("v-dialog",{attrs:{"max-width":"450"},model:{value:e.showDelv,callback:function(t){e.showDelv=t},expression:"showDelv"}},[s("v-simple-table",{attrs:{"fixed-header":""}},[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[e._v("Name student")]),s("th",{staticClass:"text-center"},[e._v("Delivery")])])]),s("tbody",e._l(e.deliveries,(function(t){return s("tr",{key:t.id_d,staticClass:"text-center"},[s("td",[e._v(e._s(t.s_name))]),s("td",[s("a",{on:{click:function(s){return e.open(t.d_file)}}},[e._v(e._s(t.d_filename))])])])})),0)])],1),s("v-btn",{attrs:{color:"deep-orange",large:"",fixed:"",right:"",bottom:"",fab:"",dark:""},on:{click:function(t){e.add=!0}}},[s("v-icon",[e._v("mdi-plus")])],1)],1)},n=[],r=(s("96cf"),s("1da1")),i=(s("bc3a"),s("d7e4")),o={data:function(){return{course:{},assignments:[],add:!1,assignToAdd:{},alert:{show:!1},deliveries:[],showDelv:!1,professor:{}}},created:function(){var e=this;this.professor=JSON.parse(sessionStorage.getItem("session")),null==this.professor?this.$router.push("/"):"professor"==this.professor.role?(this.axios.get("/professor/course/".concat(this.$route.params.id_c)).then((function(t){e.course=t.data})).catch((function(e){console.log(e.response)})),this.axios.get("professor/course-assignments/".concat(this.$route.params.id_c)).then((function(t){e.assignments=t.data})).catch((function(e){console.log(e.response)}))):this.$router.push("/profile")},methods:{open:function(e){window.open(e)},addAssignment:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,s=e.$refs.addForm.validate(),!s){t.next=14;break}return a=new FormData,a.append("a_name",e.assignToAdd.a_name),a.append("a_description",e.assignToAdd.a_description),a.append("a_file",e.assignToAdd.a_file),t.next=9,e.axios.post("/professor/add-assignment/".concat(e.course.id_c),a);case 9:n=t.sent,e.assignments.push(n.data.assignment),e.$refs.addForm.reset(),e.add=!1,e.alert={show:!0,type:"success",message:n.data.message};case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0.response);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},getDeliveries:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.axios.get("/professor/assignment-deliveries/".concat(e));case 3:a=s.sent,t.deliveries=a.data,t.showDelv=!0,console.log(a.data),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),console.log(s.t0.response);case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()}},components:{NavbarP:i["a"]}},c=o,l=s("2877"),d=Object(l["a"])(c,a,n,!1,null,null,null);t["default"]=d.exports},d7e4:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-app-bar",{staticClass:"primary",attrs:{app:"",dark:""}},[s("v-toolbar-title",[e._v("Mattweb")]),s("v-spacer"),s("v-btn",{attrs:{text:"",to:"/my-courses"}},[e._v("My courses")]),e._v("| "),s("v-menu",{attrs:{bottom:"","offset-y":e.offset},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{text:""}},"v-btn",n,!1),a),[e._v(e._s(e.p_name))])]}}])},[s("v-list",{staticClass:"primary",attrs:{dark:""}},[s("v-list-item",{attrs:{to:"/profile"}},[s("v-list-item-title",[e._v("PROFILE")])],1),s("v-list-item",{on:{click:function(t){return e.SignOut()}}},[s("v-list-item-title",[e._v("SIGN OUT")])],1)],1)],1)],1)],1)},n=[],r={name:"Navbar",data:function(){return{offset:!0}},methods:{SignOut:function(){this.$router.push("/"),sessionStorage.clear()}},props:["p_name"]},i=r,o=s("2877"),c=Object(o["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=assignments.e9755852.js.map